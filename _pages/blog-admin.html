---
layout: page
title: ブログ管理ダッシュボード | LeadFive
permalink: /blog-admin/
---

<style>
.admin-dashboard {
  padding: 2rem 0;
  background: #ffffff;
  min-height: 100vh;
}

.dashboard-header {
  background: #f9fafb;
  padding: 2rem;
  border-radius: 15px;
  margin-bottom: 2rem;
  border: 1px solid #e5e7eb;
}

.dashboard-title {
  font-size: 2rem;
  color: #111827;
  margin-bottom: 0.5rem;
}

.dashboard-subtitle {
  color: #6b7280;
}

.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin-bottom: 3rem;
}

.stat-card {
  background: #f9fafb;
  padding: 2rem;
  border-radius: 15px;
  border: 1px solid #e5e7eb;
  text-align: center;
}

.stat-number {
  font-size: 2.5rem;
  font-weight: 700;
  color: #8b5cf6;
  margin-bottom: 0.5rem;
}

.stat-label {
  color: #6b7280;
  font-size: 0.875rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.admin-section {
  background: #f9fafb;
  padding: 2rem;
  border-radius: 15px;
  margin-bottom: 2rem;
  border: 1px solid #e5e7eb;
}

.section-title {
  font-size: 1.5rem;
  color: #111827;
  margin-bottom: 1.5rem;
}

.auto-post-form {
  display: grid;
  gap: 1.5rem;
}

.form-group {
  display: flex;
  flex-direction: column;
}

.form-label {
  font-weight: 600;
  color: #374151;
  margin-bottom: 0.5rem;
}

.form-input,
.form-textarea,
.form-select {
  padding: 0.75rem 1rem;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  color: #111827;
  font-size: 1rem;
  transition: border-color 0.2s;
}

.form-input:focus,
.form-textarea:focus,
.form-select:focus {
  outline: none;
  border-color: #8b5cf6;
}

.form-textarea {
  min-height: 150px;
  resize: vertical;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}

.schedule-section {
  background: #f3f4f6;
  padding: 1.5rem;
  border-radius: 10px;
  margin-top: 1rem;
}

.btn-group {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
}

.btn-generate {
  background: linear-gradient(135deg, #8b5cf6, #ec4899);
  color: #ffffff;
  padding: 0.75rem 2rem;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.2s;
}

.btn-generate:hover {
  transform: translateY(-2px);
}

.btn-secondary {
  background: #f9fafb;
  color: #374151;
  padding: 0.75rem 2rem;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.btn-secondary:hover {
  background: #f3f4f6;
  border-color: #d1d5db;
}

.queue-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.queue-item {
  background: #ffffff;
  padding: 1.5rem;
  border-radius: 10px;
  border: 1px solid #e5e7eb;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.queue-item-title {
  font-weight: 600;
  color: #111827;
  margin-bottom: 0.25rem;
}

.queue-item-date {
  font-size: 0.875rem;
  color: #6b7280;
}

.queue-item-status {
  padding: 0.25rem 1rem;
  border-radius: 9999px;
  font-size: 0.875rem;
  font-weight: 500;
}

.status-scheduled {
  background: #dbeafe;
  color: #1e40af;
}

.status-published {
  background: #d1fae5;
  color: #065f46;
}

.status-draft {
  background: #fef3c7;
  color: #92400e;
}

@media (max-width: 768px) {
  .form-row {
    grid-template-columns: 1fr;
  }
  
  .dashboard-grid {
    grid-template-columns: 1fr;
  }
}
</style>

<div class="admin-dashboard">
  <div class="container">
    <div class="dashboard-header">
      <h1 class="dashboard-title">ブログ管理ダッシュボード</h1>
      <p class="dashboard-subtitle">AIを活用した自動ブログ投稿システム</p>
    </div>

    <div class="dashboard-grid">
      <div class="stat-card">
        <div class="stat-number">24</div>
        <div class="stat-label">総記事数</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">5</div>
        <div class="stat-label">今週の投稿</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">12</div>
        <div class="stat-label">予約投稿</div>
      </div>
    </div>

    <section class="admin-section">
      <h2 class="section-title">AI自動記事生成</h2>
      <form class="auto-post-form" id="autoPostForm">
        <div class="form-group">
          <label class="form-label">記事のトピック</label>
          <input type="text" name="topic" class="form-input" placeholder="例: AI×心理学マーケティングの最新トレンド" required>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label">カテゴリー</label>
            <select name="category" class="form-select" required>
              <option value="">選択してください</option>
              <option value="ai-marketing">AIマーケティング</option>
              <option value="psychology">消費者心理</option>
              <option value="case-study">導入事例</option>
              <option value="tips">実践テクニック</option>
              <option value="news">お知らせ</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">ターゲット読者</label>
            <select name="targetAudience" class="form-select" required>
              <option value="">選択してください</option>
              <option value="beginner">初心者</option>
              <option value="intermediate">中級者</option>
              <option value="advanced">上級者</option>
              <option value="all">全般</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">キーワード（カンマ区切り）</label>
          <input type="text" name="keywords" class="form-input" placeholder="AI, 心理学, マーケティング, 売上向上" required>
        </div>

        <div class="form-group">
          <label class="form-label">記事の概要（AIへの指示）</label>
          <textarea name="outline" class="form-textarea" placeholder="この記事で伝えたいメッセージや、含めたい具体的な内容を記述してください"></textarea>
        </div>

        <div class="schedule-section">
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">投稿日時</label>
              <input type="datetime-local" name="publishDate" class="form-input" required>
            </div>
            <div class="form-group">
              <label class="form-label">投稿タイプ</label>
              <select name="publishType" class="form-select" required>
                <option value="immediate">即時投稿</option>
                <option value="scheduled">予約投稿</option>
                <option value="draft">下書き保存</option>
              </select>
            </div>
          </div>
        </div>

        <div class="btn-group">
          <button type="submit" class="btn-generate">AIで記事を生成</button>
          <button type="button" class="btn-secondary">プレビュー</button>
        </div>
      </form>
    </section>

    <section class="admin-section">
      <h2 class="section-title">投稿キュー</h2>
      <div class="queue-list">
        <div class="queue-item">
          <div>
            <div class="queue-item-title">8つの本能を活用したSNSマーケティング戦略</div>
            <div class="queue-item-date">2024年12月25日 10:00 予定</div>
          </div>
          <span class="queue-item-status status-scheduled">予約済み</span>
        </div>
        <div class="queue-item">
          <div>
            <div class="queue-item-title">ChatGPTを使った顧客インサイト分析の実践ガイド</div>
            <div class="queue-item-date">2024年12月23日 10:00 投稿済み</div>
          </div>
          <span class="queue-item-status status-published">公開中</span>
        </div>
        <div class="queue-item">
          <div>
            <div class="queue-item-title">2025年のAIマーケティングトレンド予測</div>
            <div class="queue-item-date">下書き</div>
          </div>
          <span class="queue-item-status status-draft">下書き</span>
        </div>
      </div>
    </section>

    <section class="admin-section">
      <h2 class="section-title">自動投稿設定</h2>
      <form class="auto-post-form">
        <div class="form-group">
          <label class="form-label">
            <input type="checkbox" checked> 自動投稿を有効にする
          </label>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">投稿頻度</label>
            <select class="form-select">
              <option value="daily">毎日</option>
              <option value="weekly" selected>週1回</option>
              <option value="biweekly">週2回</option>
              <option value="monthly">月1回</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">投稿時刻</label>
            <input type="time" class="form-input" value="10:00">
          </div>
        </div>
        <button type="submit" class="btn-secondary">設定を保存</button>
      </form>
    </section>
  </div>
</div>

<script src="{{ '/assets/js/blog-templates.js' | relative_url }}"></script>
<script src="{{ '/assets/js/ai-blog-generator.js' | relative_url }}"></script>
<script src="{{ '/assets/js/blog-post-manager.js' | relative_url }}"></script>
<script>
// ブログ管理システムの初期化
const postManager = new BlogPostManager();

// 統計情報を更新
function updateStatistics() {
  const stats = postManager.getStatistics();
  
  document.querySelector('.stat-card:nth-child(1) .stat-number').textContent = stats.total;
  document.querySelector('.stat-card:nth-child(2) .stat-number').textContent = stats.thisWeek;
  document.querySelector('.stat-card:nth-child(3) .stat-number').textContent = stats.scheduled;
}

// 投稿キューを更新
function updateQueue() {
  const posts = postManager.posts.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt)).slice(0, 10);
  const queueList = document.querySelector('.queue-list');
  
  if (posts.length === 0) {
    queueList.innerHTML = '<p style="text-align: center; color: #6b7280;">まだ投稿がありません</p>';
    return;
  }
  
  queueList.innerHTML = posts.map(post => `
    <div class="queue-item">
      <div>
        <div class="queue-item-title">${post.title}</div>
        <div class="queue-item-date">
          ${post.status === 'published' 
            ? new Date(post.publishDate).toLocaleDateString('ja-JP') + ' 投稿済み'
            : post.status === 'scheduled'
            ? new Date(post.publishDate).toLocaleDateString('ja-JP') + ' ' + new Date(post.publishDate).toLocaleTimeString('ja-JP', { hour: '2-digit', minute: '2-digit' }) + ' 予定'
            : '下書き'
          }
        </div>
      </div>
      <span class="queue-item-status status-${post.status}">
        ${post.status === 'published' ? '公開中' : post.status === 'scheduled' ? '予約済み' : '下書き'}
      </span>
    </div>
  `).join('');
}

// フォーム送信処理
document.getElementById('autoPostForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  
  const formData = new FormData(e.target);
  const params = {
    topic: formData.get('topic'),
    category: formData.get('category'),
    keywords: formData.get('keywords'),
    targetAudience: formData.get('targetAudience'),
    outline: formData.get('outline'),
    publishDate: formData.get('publishDate'),
    publishType: formData.get('publishType')
  };
  
  // ローディング表示
  const submitBtn = e.target.querySelector('button[type="submit"]');
  const originalText = submitBtn.textContent;
  submitBtn.textContent = '生成中...';
  submitBtn.disabled = true;
  
  try {
    // 記事を生成
    const result = await postManager.createPost(params);
    
    if (result.success) {
      window.showNotification('記事が正常に生成されました！', 'success');
      
      // プレビューを表示
      showPreview(result.preview);
      
      // 統計とキューを更新
      updateStatistics();
      updateQueue();
      
      // フォームをリセット
      e.target.reset();
    } else {
      window.showNotification('記事の生成に失敗しました: ' + result.error, 'error');
    }
  } catch (error) {
    window.showNotification('エラーが発生しました: ' + error.message, 'error');
  } finally {
    submitBtn.textContent = originalText;
    submitBtn.disabled = false;
  }
});

// プレビューを表示
function showPreview(previewHtml) {
  // プレビューモーダルが存在しない場合は作成
  let modal = document.getElementById('preview-modal');
  if (!modal) {
    modal = document.createElement('div');
    modal.id = 'preview-modal';
    modal.className = 'preview-modal';
    modal.innerHTML = `
      <div class="preview-modal-content">
        <div class="preview-modal-header">
          <h2>記事プレビュー</h2>
          <button class="close-preview" onclick="closePreview()">×</button>
        </div>
        <div class="preview-modal-body"></div>
      </div>
    `;
    document.body.appendChild(modal);
  }
  
  modal.querySelector('.preview-modal-body').innerHTML = previewHtml;
  modal.style.display = 'block';
  setTimeout(() => modal.classList.add('show'), 10);
}

// プレビューを閉じる
function closePreview() {
  const modal = document.getElementById('preview-modal');
  modal.classList.remove('show');
  setTimeout(() => {
    modal.style.display = 'none';
  }, 300);
}

// 初期化
document.addEventListener('DOMContentLoaded', function() {
  updateStatistics();
  updateQueue();
  
  // 定期的に統計を更新
  setInterval(() => {
    updateStatistics();
    updateQueue();
  }, 60000); // 1分ごと
});
</script>

<style>
.preview-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 10000;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.preview-modal.show {
  opacity: 1;
}

.preview-modal-content {
  position: relative;
  background: white;
  margin: 2rem auto;
  max-width: 900px;
  max-height: 90vh;
  overflow-y: auto;
  border-radius: 15px;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}

.preview-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 2rem;
  border-bottom: 1px solid #e5e7eb;
}

.preview-modal-header h2 {
  font-size: 1.5rem;
  color: #111827;
  margin: 0;
}

.close-preview {
  background: none;
  border: none;
  font-size: 2rem;
  color: #6b7280;
  cursor: pointer;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  transition: all 0.2s;
}

.close-preview:hover {
  background: #f3f4f6;
  color: #111827;
}

.preview-modal-body {
  padding: 2rem;
}
</style>