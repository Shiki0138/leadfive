# ブログ編集機能ガイド

## 概要
投稿済みのブログ記事を編集するための3つの方法を提供しています。

## 1. コマンドライン編集（CLI）

ターミナルから対話的に記事を編集できます。

```bash
npm run blog:edit
```

### 機能：
- 記事一覧の表示
- タイトル、説明文、タグの編集
- 本文の編集（デフォルトエディタで開く）
- 記事の再生成

### 使い方：
1. コマンドを実行
2. 編集したい記事の番号を選択
3. 編集項目を選択
4. 新しい内容を入力

## 2. Webエディタ（ブラウザ）

ブラウザ上で視覚的に記事を編集できます。

```bash
# APIサーバーを起動
npm run blog:server

# ブラウザで開く
open http://localhost:3333/blog-web-editor.html
```

### 機能：
- 記事一覧の閲覧
- フォームによる編集
- リアルタイムプレビュー（実装予定）
- 記事の再生成

## 3. 直接ファイル編集

`_posts`ディレクトリ内のMarkdownファイルを直接編集することも可能です。

```bash
# VSCodeで編集
code _posts/2025-09-01-2025年最新ノウハウ完全ガイド.md

# またはお好みのエディタで
nano _posts/2025-09-01-2025年最新ノウハウ完全ガイド.md
```

### ファイル構造：
```markdown
---
layout: blog-post
title: "記事タイトル"
date: 2025-09-01T10:00:00Z
categories: [カテゴリ]
tags: [タグ1, タグ2]
description: "メタディスクリプション"
author: "LeadFive AI"
image: "/assets/images/blog/featured.jpg"
---

記事本文（Markdown形式）
```

## 記事の再生成

Claude AIを使って記事を完全に再生成することも可能です。

### CLI経由：
```bash
npm run blog:edit
# オプション5「記事全体を再生成」を選択
```

### API経由：
```javascript
POST /api/posts/{id}/regenerate
{
  "keyword": "AIマーケティング",
  "title": "カスタムタイトル（オプション）"
}
```

## セキュリティに関する注意

- APIサーバーは開発用です。本番環境では認証機能を追加してください
- 現在のCORS設定は全てのオリジンを許可しています
- 本番環境では適切なアクセス制限を設定してください

## トラブルシューティング

### エディタが開かない場合
環境変数`EDITOR`を設定してください：
```bash
export EDITOR=vim  # またはnano, code等
```

### APIサーバーが起動しない場合
ポートが使用中の可能性があります：
```bash
PORT=4000 npm run blog:server
```

### 記事が保存されない場合
- ファイルのパーミッションを確認
- ディスク容量を確認
- エラーログを確認

## 今後の改善予定

- [ ] リアルタイムプレビュー機能
- [ ] 画像のアップロード・編集機能
- [ ] バージョン管理（編集履歴）
- [ ] 複数記事の一括編集
- [ ] 認証・権限管理
- [ ] バックアップ機能